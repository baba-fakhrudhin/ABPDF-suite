{% extends "base.html" %}
{% block content %}

<div class="max-w-md mx-auto bg-white p-8 rounded-2xl shadow-lg">
    <h2 class="text-2xl font-bold mb-6 text-center">Login</h2>

    <form id="loginForm" class="space-y-4">
        <input type="text" id="username" placeholder="Username" required
            class="w-full border p-3 rounded-xl">

        <input type="password" id="password" placeholder="Password" required
            class="w-full border p-3 rounded-xl">

        <button type="submit"
            class="w-full py-3 bg-gradient-to-r from-green-500 to-teal-500 text-white rounded-xl font-bold">
            Login
        </button>
    </form>
</div>

<script>
document.getElementById("loginForm").addEventListener("submit", async function(e) {
    e.preventDefault();

    const username = document.getElementById("username").value;
    const password = document.getElementById("password").value;

    const response = await fetch("/login", {
        method: "POST",
        headers: {
            "Authorization": "Basic " + btoa(username + ":" + password)
        }
    });

    const data = await response.json();
    alert(data.message || data.error);
});
</script>

{% endblock %}